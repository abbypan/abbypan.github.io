<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="zh-cn">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="author" content="abbypan#infonet@ustc">
<meta name="language" content="zh-cn">
<meta name="date" content="2008-07-11T22:03:51">
<meta name="generator" content="deplate.rb 0.8">
<title>viki+deplate环境安装配置</title>
<link rel="start" href="about.html" title="Frontpage">
<link rel="chapter" href="about.html#hd001" title="安装">
<link rel="chapter" href="about.html#hd002" title="配置utf8环境">
<link rel="chapter" href="about.html#hd003" title="~/.vim/filetype.vim设置">
<link rel="chapter" href="about.html#hd004" title="指定viki语法高亮">
<link rel="chapter" href="about.html#hd005" title="资料">
<link rel="stylesheet" type="text/css" href="main.css" title="main" media="screen">
</head>
<body >
<a name="#pagetop"></a>
<div class="title">
<p class="title">viki+deplate环境安装配置</p>
<p class="author">abbypan#infonet@ustc</p>
</div>
<div id="Table_of_Contents">
<div id="Table_of_ContentsBlock" class="toc">
<h1 class="toc">目录</h1>
<ul class="toc">
    <li class="toc">
        <a href="#hd001" class="toc">安装</a>
    </li>
    <li class="toc">
        <a href="#hd002" class="toc">配置utf8环境</a>
    </li>
    <li class="toc">
        <a href="#hd003" class="toc">~/.vim/filetype.vim设置</a>
    </li>
    <li class="toc">
        <a href="#hd004" class="toc">指定viki语法高亮</a>
    </li>
    <li class="toc">
        <a href="#hd005" class="toc">资料</a>
    </li>
</ul>
</div></div>

<h1 id="hd001"><a name="file000"></a>安装</h1>

<ul class="Itemize">
    <li class="Itemize dash">
        <span class="remote"><a href="http://www.vim.org/scripts/script.php?script_id=861" class="remote">viki</a></span><a name="idx001"></a>
    </li>
    <li class="Itemize dash">
        <span class="remote"><a href="http://sourceforge.net/projects/deplate/" class="remote">deplate</a></span><a name="idx002"></a>
    </li>
</ul>


<h1 id="hd002">配置utf8环境</h1>

<ul class="Itemize">
    <li class="Itemize dash">
        为了统一嘛。本来默认是GB2312的，换成utf8。
    </li>
    <li class="Itemize dash">
        改deplate配的locale文件
        <ul class="Itemize">
            <li class="Itemize dash">
                cp /usr/share/deplate/locale/zh_cn.gb2312 ~/.deplate/locale/zh_cn.utf8
            </li>
            <li class="Itemize dash">
                vi ~/.deplate/locale/zh_cn.utf8，:set fenc=utf8，把zh_cn.utf8文件的编码改成utf8
            </li>
        </ul>
    </li>
    <li class="Itemize dash">
        改zh-cn模块
        <ul class="Itemize">
            <li class="Itemize dash">
                cp /usr/lib/ruby/1.8/deplate/zh-cn.rb ~/.deplate/mod/
            </li>
            <li class="Itemize dash">
                vi ~/.deplate/mod/zh-cn.rb，:%s/gb2312/utf8/g
            </li>
            <li class="Itemize dash">
                把zh-cn.rb中的<code>@cjk_smart_blanks&nbsp;=&nbsp;!(@deplate.variables[&quot;noSmartBlanks&quot;]&nbsp;||&nbsp;false)</code>注释掉了，感觉有这行比较不好用。
            </li>
        </ul>
    </li>
</ul>


<h1 id="hd003">~/.vim/filetype.vim设置</h1>

<a name="viki"></a>
<div class="code">
<span style="color: #a52a2a;">1 </span><span style="color: #a52a2a;"><b>augr</b></span>&nbsp;VIKI<br />
<span style="color: #a52a2a;">2 </span><span style="color: #a52a2a;"><b>au</b></span>!<br />
<span style="color: #a52a2a;">3 </span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a52a2a;"><b>autocmd</b></span>! <span style="color: #2e8b57;"><b>BufRead</b></span>,<span style="color: #2e8b57;"><b>BufNewFile</b></span>&nbsp;*.viki&nbsp;<span style="color: #a52a2a;"><b>set</b></span>&nbsp;<span style="color: #a020f0;">filetype</span>=viki<br />
<span style="color: #a52a2a;">4 </span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a52a2a;"><b>autocmd</b></span>&nbsp;<span style="color: #2e8b57;"><b>FileType</b></span>&nbsp;let&nbsp;g:vikiNameSuffix&nbsp;<span style="color: #a52a2a;"><b>=</b></span>&nbsp;<span style="color: #ff00ff;">&quot;.viki&quot;</span><br />
<span style="color: #a52a2a;">5 </span>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a52a2a;"><b>autocmd</b></span>&nbsp;<span style="color: #2e8b57;"><b>FileType</b></span>&nbsp;let&nbsp;g:vikiUseParentSuffix&nbsp;<span style="color: #a52a2a;"><b>=</b></span>&nbsp;<span style="color: #ff00ff;">1</span><br />
<span style="color: #a52a2a;">6 </span><span style="color: #a52a2a;"><b>augr</b></span>&nbsp;END<br />
</div>


<h1 id="hd004">指定viki语法高亮</h1>

<ul class="Itemize">
    <li class="Itemize dash">
        编辑.viki首行为：<code>%&nbsp;vi:&nbsp;ft=viki</code>
    </li>
    <li class="Itemize dash">
        直接在vim里面敲<code>:VikiMode</code>
    </li>
</ul>


<h1 id="hd005">资料</h1>

<ul class="Itemize">
    <li class="Itemize dash">
        <span class="remote"><a href="http://nic-nac-project.de/~murj/viki/vim/VimViki.html" class="remote">安装、定制、使用Viki
        以及Deplate</a></span><a name="idx003"></a>
    </li>
    <li class="Itemize dash">
        <span class="remote"><a href="http://www.zhoubin.net/viki/linux/viki.html" class="remote">如何用Viki做主页</a></span><a name="idx004"></a>
    </li>
</ul>

<div type="FOOTER" class="footer">
<p class="footer"><a href="index.html">返回</a><a name="idx005"></a></p>

</div>
</body>
</html>

