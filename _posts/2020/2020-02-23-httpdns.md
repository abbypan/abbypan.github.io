---
layout: post
category: tech
title:  "httpdns"
tagline: ""
tags: [ "dns" ] 
---
{% include JB/setup %}

* TOC
{:toc}

# httpdns本质上无法防劫持

httpdns是用明文http查询替代明文的udp dns查询。
对于终端木马、链路劫持的威胁，两者抵御能力实质是相同的。

# httpdns可以在当前网络环境下缓解劫持

传统的劫持设备一般有两大功能：

1） dns劫持；

2）针对404页面、或者高流量200 OK页面的覆盖型、或者跳转型HTTP劫持。

httpdns绕过了这两大模块的劫持。另外还要：

1）感谢劫持设备商没怎么针对性做这块。人家跑去直接cookie劫持更省事；

2）感谢立法监督。

# httpdns的核心优势

1）针对用户ip的精准流量调度，可以有效提升用户时延体验；

2）有效解决传统运营商缓存劫持的故障问题。

# httpdns的代价

1）用户ip隐私：从终端侧到httpdns服务器的链路上的明文泄漏；

2）app接入的成本：每个app都要接入httpdns的api/sdk。而从网络基础设施的角度，dns解析服务应当是尽量无感的。

3）app服务商将流量精准调度的“职能”完全托管给httpdns服务器。也就是说，完全依靠httpdns的ip库精准度、httpdns服务商的可信度。

4）httpdns服务器变成了一个实质上的高度集中化的解析服务。它与google 8.8.8.8超级公共递归的实质效果类似，但是它无法自动服务于其他传统递归、以及其他未接入该服务的app。
